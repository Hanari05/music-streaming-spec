<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pastel Music Demo</title>
<style>
:root {
  --pink: #fde4ec;
  --white: #ffffff;
  --lav: #f8bbd0;
  --mint: #e0f2f1;
  --gray: #444;
}

body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: var(--pink);
  color: var(--gray);
}

header {
  background: var(--white);
  padding: 1em;
  text-align: center;
  border-bottom: 3px solid var(--lav);
}

nav {
  display: flex;
  justify-content: center;
  background: var(--lav);
  gap: .5em;
  flex-wrap: wrap;
  padding: .5em;
}

nav button {
  background: var(--white);
  border: none;
  border-radius: 20px;
  padding: .5em 1em;
  cursor: pointer;
  font-weight: 500;
  transition: 0.2s;
}
nav button.active,
nav button:hover { background: var(--mint); }

main { max-width: 900px; margin: auto; padding: 1.5em; }
section { display: none; }
section.active { display: block; }

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px,1fr));
  gap: 1em;
}
.card {
  background: var(--white);
  border-radius: 1em;
  padding: 1em;
  text-align: center;
  box-shadow: 0 2px 6px rgba(0,0,0,.1);
  cursor: pointer;
  transition: .2s;
}
.card:hover { transform: translateY(-3px); background: var(--mint); }

.track-list {
  list-style: none;
  padding: 0;
}
.track-list li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--white);
  margin-bottom: .5em;
  border-radius: .7em;
  padding: .6em 1em;
  cursor: pointer;
  transition: .2s;
}
.track-list li:hover { background: var(--mint); }

footer {
  background: var(--white);
  border-top: 2px solid var(--lav);
  text-align: center;
  padding: 1em;
}
audio { width: 100%; margin-top: .5em; }

input[type="text"] {
  width: 100%;
  padding: .7em;
  border-radius: 10px;
  border: 1px solid #ccc;
  margin-bottom: 1em;
}

.hidden { display: none; }
</style>
</head>
<body>
<header><h1>üéµ Pastel Music Demo</h1></header>

<nav>
  <button class="tab active" data-target="home">Home</button>
  <button class="tab" data-target="artists">Artists</button>
  <button class="tab" data-target="albums">Albums</button>
  <button class="tab" data-target="playlists">Playlists</button>
  <button class="tab" data-target="search">Search</button>
  <button class="tab" data-target="history">History</button>
  <button class="tab" data-target="admin">Admin</button>
</nav>

<main>
  <section id="home" class="active">
    <h2>Trang ch·ªß</h2>
    <p>Giao di·ªán prototype m√¥ ph·ªèng ·ª©ng d·ª•ng nghe nh·∫°c Pastel üéß</p>
  </section>

  <section id="artists"><h2>Ngh·ªá sƒ©</h2><div id="artist-list" class="grid"></div></section>
  <section id="albums"><h2>Albums</h2><div id="album-list" class="grid"></div></section>

  <section id="playlists">
    <h2>Playlists</h2>
    <div id="playlist-list" class="grid"></div>
    <div id="playlist-detail" class="hidden">
      <h3 id="playlist-title"></h3>
      <ul id="playlist-tracks" class="track-list"></ul>
    </div>
  </section>

  <section id="search">
    <h2>T√¨m ki·∫øm</h2>
    <input type="text" id="search-box" placeholder="Nh·∫≠p t√™n b√†i h√°t ho·∫∑c ngh·ªá sƒ©...">
    <ul id="search-results" class="track-list"></ul>
  </section>

  <section id="history">
    <h2>L·ªãch s·ª≠ nghe nh·∫°c</h2>
    <ul id="history-list" class="track-list"></ul>
  </section>

  <section id="admin">
    <h2>Admin Dashboard</h2>
    <p><strong>S·ªë ngh·ªá sƒ©:</strong> <span id="count-artists"></span></p>
    <p><strong>S·ªë b√†i h√°t:</strong> <span id="count-tracks"></span></p>
    <p><strong>S·ªë album:</strong> <span id="count-albums"></span></p>
    <p><strong>S·ªë playlist:</strong> <span id="count-playlists"></span></p>
  </section>
</main>

<footer>
  <strong id="now-playing">Ch∆∞a ph√°t b√†i h√°t n√†o</strong>
  <audio id="audio-player" controls></audio>
</footer>

<script>
// ===================
// D·ªÆ LI·ªÜU M·∫™U (SEED)
// ===================
const seed = {
  artists: [
    "BLACKPINK","IU","Taylor Swift","Ed Sheeran","Billie Eilish",
    "Adele","S∆°n T√πng M-TP","Charlie Puth","Lana Del Rey","The Weeknd"
  ],
  albums: [
    { id: 1, name: "Lover", artist: "Taylor Swift" },
    { id: 2, name: "Divide", artist: "Ed Sheeran" },
    { id: 3, name: "Happier Than Ever", artist: "Billie Eilish" },
    { id: 4, name: "25", artist: "Adele" },
    { id: 5, name: "Born To Die", artist: "Lana Del Rey" },
  ],
  tracks: [
    { id: 1, title: "Pink Venom", artist: "BLACKPINK", src: "https://cdn.pixabay.com/audio/2023/08/09/audio_4fd6a.mp3" },
    { id: 2, title: "How You Like That", artist: "BLACKPINK", src: "https://cdn.pixabay.com/audio/2023/08/09/audio_5e7a1.mp3" },
    { id: 3, title: "Lover", artist: "Taylor Swift", src: "https://cdn.pixabay.com/audio/2023/05/12/audio_7f2dc.mp3" },
    { id: 4, title: "Shape of You", artist: "Ed Sheeran", src: "https://cdn.pixabay.com/audio/2023/07/20/audio_3df3f.mp3" },
    { id: 5, title: "Bad Guy", artist: "Billie Eilish", src: "https://cdn.pixabay.com/audio/2023/03/21/audio_497b8.mp3" },
    { id: 6, title: "Hello", artist: "Adele", src: "https://cdn.pixabay.com/audio/2023/02/14/audio_0e12c.mp3" },
    { id: 7, title: "Easy On Me", artist: "Adele", src: "https://cdn.pixabay.com/audio/2023/04/16/audio_65a2d.mp3" },
    { id: 8, title: "Past Life", artist: "Trevor Daniel", src: "https://cdn.pixabay.com/audio/2023/09/02/audio_3f93f.mp3" },
    { id: 9, title: "Love Story", artist: "Taylor Swift", src: "https://cdn.pixabay.com/audio/2023/04/30/audio_fefbc.mp3" },
    { id: 10, title: "Someone Like You", artist: "Adele", src: "https://cdn.pixabay.com/audio/2023/06/10/audio_8b1b7.mp3" },
    { id: 11, title: "Photograph", artist: "Ed Sheeran", src: "https://cdn.pixabay.com/audio/2023/04/09/audio_7cf4b.mp3" },
    { id: 12, title: "Ocean Eyes", artist: "Billie Eilish", src: "https://cdn.pixabay.com/audio/2023/07/12/audio_4b0f1.mp3" },
    { id: 13, title: "Snowman", artist: "Sia", src: "https://cdn.pixabay.com/audio/2023/08/30/audio_efbc5.mp3" },
    { id: 14, title: "We Don't Talk Anymore", artist: "Charlie Puth", src: "https://cdn.pixabay.com/audio/2023/07/05/audio_12b8a.mp3" },
    { id: 15, title: "Blinding Lights", artist: "The Weeknd", src: "https://cdn.pixabay.com/audio/2023/05/20/audio_32c1b.mp3" },
    { id: 16, title: "Die For You", artist: "The Weeknd", src: "https://cdn.pixabay.com/audio/2023/09/01/audio_734c9.mp3" },
    { id: 17, title: "Peaches", artist: "Justin Bieber", src: "https://cdn.pixabay.com/audio/2023/07/16/audio_312a3.mp3" },
    { id: 18, title: "Dreamers", artist: "Jung Kook", src: "https://cdn.pixabay.com/audio/2023/05/14/audio_91af9.mp3" },
    { id: 19, title: "Making My Way", artist: "S∆°n T√πng M-TP", src: "https://cdn.pixabay.com/audio/2023/06/09/audio_929ea.mp3" },
    { id: 20, title: "There's Nothing Holdin' Me Back", artist: "Shawn Mendes", src: "https://cdn.pixabay.com/audio/2023/03/18/audio_0b8e7.mp3" },
  ],
  playlists: [
    { id: 1, name: "Chill Vibes", tracks: [3,8,12,14,19] },
    { id: 2, name: "Pop Hits", tracks: [4,9,15,16,20] },
    { id: 3, name: "Romantic Mood", tracks: [3,6,10,11,17] },
    { id: 4, name: "Girl Power", tracks: [1,2,5,12,13] },
    { id: 5, name: "Vietnamese Star", tracks: [19,18,14,4,9] },
  ]
};

// ===================
// LOGIC ·ª®NG D·ª§NG
// ===================
const audio = document.getElementById("audio-player");
const nowPlaying = document.getElementById("now-playing");
let historyList = [];

document.querySelectorAll(".tab").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
    document.getElementById(btn.dataset.target).classList.add("active");
    if(btn.dataset.target==="history") renderHistory();
    if(btn.dataset.target==="admin") renderAdmin();
  });
});

function renderArtists(){
  const el=document.getElementById("artist-list");
  el.innerHTML="";
  seed.artists.forEach(a=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<h3>${a}</h3>`;
    el.appendChild(div);
  });
}

function renderAlbums(){
  const el=document.getElementById("album-list");
  el.innerHTML="";
  seed.albums.forEach(a=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<h3>${a.name}</h3><p>${a.artist}</p>`;
    el.appendChild(div);
  });
}
function showAlbumsDetail(id){
  const pl=seed.albums.find(p=>p.id===id);
  const detail=document.getElementById("albums-detail");
  const title=document.getElementById("albums-title");
  const list=document.getElementById("albums-tracks");
  title.textContent=pl.name;
  list.innerHTML="";
  pl.tracks.forEach(tid=>{
    const t=seed.tracks.find(x=>x.id===tid);
    if(t){
      const li=document.createElement("li");
      li.innerHTML=`<span>${t.title} - <em>${t.artist}</em></span><button>‚ñ∂Ô∏è</button>`;
      li.querySelector("button").onclick=(e)=>{e.stopPropagation(); playById(t.id);};
      list.appendChild(li);
    }
  });
  detail.classList.remove("hidden");
}

function renderPlaylists(){
  const el=document.getElementById("playlist-list");
  el.innerHTML="";
  seed.playlists.forEach(p=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<h3>${p.name}</h3><p>${p.tracks.length} b√†i h√°t</p>`;
    div.onclick=()=>showPlaylistDetail(p.id);
    el.appendChild(div);
  });
}

function showPlaylistDetail(id){
  const pl=seed.playlists.find(p=>p.id===id);
  const detail=document.getElementById("playlist-detail");
  const title=document.getElementById("playlist-title");
  const list=document.getElementById("playlist-tracks");
  title.textContent=pl.name;
  list.innerHTML="";
  pl.tracks.forEach(tid=>{
    const t=seed.tracks.find(x=>x.id===tid);
    if(t){
      const li=document.createElement("li");
      li.innerHTML=`<span>${t.title} - <em>${t.artist}</em></span><button>‚ñ∂Ô∏è</button>`;
      li.querySelector("button").onclick=(e)=>{e.stopPropagation(); playById(t.id);};
      list.appendChild(li);
    }
  });
  detail.classList.remove("hidden");
}

function playById(id){
  const t=seed.tracks.find(x=>x.id===id);
  if(!t) return;
  nowPlaying.textContent=`ƒêang ph√°t: ${t.title} - ${t.artist}`;
  audio.src=t.src;
  audio.play();
  historyList.unshift(t);
  if(historyList.length>20) historyList.pop();
}

function renderSearch(){
  const query=document.getElementById("search-box").value.toLowerCase();
  const results=document.getElementById("search-results");
  results.innerHTML="";
  seed.tracks.filter(t=>
    t.title.toLowerCase().includes(query) || t.artist.toLowerCase().includes(query)
  ).forEach(t=>{
    const li=document.createElement("li");
    li.innerHTML=`<span>${t.title} - <em>${t.artist}</em></span><button>‚ñ∂Ô∏è</button>`;
    li.querySelector("button").onclick=(e)=>{e.stopPropagation(); playById(t.id);};
    results.appendChild(li);
  });
}

function renderHistory(){
  const el=document.getElementById("history-list");
  el.innerHTML="";
  historyList.forEach(t=>{
    const li=document.createElement("li");
    li.innerHTML=`${t.title} - <em>${t.artist}</em>`;
    el.appendChild(li);
  });
}

function renderAdmin(){
  document.getElementById("count-artists").textContent=seed.artists.length;
  document.getElementById("count-tracks").textContent=seed.tracks.length;
  document.getElementById("count-albums").textContent=seed.albums.length;
  document.getElementById("count-playlists").textContent=seed.playlists.length;
}

document.getElementById("search-box").addEventListener("input",renderSearch);

function init(){
  renderArtists();
  renderAlbums();
  renderPlaylists();
}
init();
</script>
</body>
</html>
